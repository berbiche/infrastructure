# Configure persistent storage for Prometheus
apiVersion: v1
kind: ConfigMap
metadata:
  name: cluster-monitoring-config
  namespace: openshift-monitoring
data:
  config.yaml: |
    prometheusK8s:
      volumeClaimTemplate:
        spec:
          storageClassName: truenas-iscsi-csi
          volumeMode: Filesystem
          resources:
            requests:
              storage: 40Gi
---
# apiVersion: v1
# kind: ConfigMap
# metadata:
#   name: user-workload-monitoring-config
#   namespace: openshift-user-workload-monitoring
# data:
#   config.yaml: |
#     prometheus:
#       retention: 24h
#       resources:
#         requests:
#           cpu: 200m
#           memory: 2Gi
