apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- ./04-openshift-machine-config-operator.yaml
- ./cluster-config.yaml
- ./cluster-dns-02-config.yml
- ./cluster-infrastructure-02-config.yml
- ./cluster-ingress-02-config.yml
- ./cluster-network-01-crd.yml
- ./cluster-network-02-config.yml
- ./cluster-proxy-01-config.yaml
- ./cluster-scheduler-02-config.yml
- ./cvo-overrides.yaml
- ./kube-cloud-config.yaml
- ./openshift-kubevirt-infra-namespace.yaml

generators:
- |
  apiVersion: viaduct.ai/v1
  kind: ksops-exec
  metadata:
    name: openshift-manifests-secret-generator
  files:
    - ./kube-system-configmap-root-ca.yaml
    - ./machine-config-server-tls-secret.yaml
    - ./openshift-config-secret-pull-secret.yaml
